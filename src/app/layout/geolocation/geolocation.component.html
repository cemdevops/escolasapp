<div [@routerTransition] >
  <div class="row" class="map-container" >
    <div class="col-lg-12" style="height: 100%">
      <!--<agm-map id="schools-geolocation"
               [latitude]="-23.552133"
               [longitude] = "-46.6331418"
               [zoom] = "15">
        <agm-marker *ngFor = "let escola of schoolsCoordinates"
                    [latitude] = "convertToDouble(convertStringToNumber(escola.Latitude))"
                    [longitude] = "convertToDouble(convertStringToNumber(escola.Longitude))"
                    [iconUrl] = "'assets/images/marcador_school_default.png'"
        >
        </agm-marker>
      </agm-map>-->

      <!-- button to display/hide the school details -->
      <button *ngIf="schoolSelectedFlag"
              style="position: absolute; z-index: 3000;
              left:25px; top: 60px; width:35px"
              (click)="toggleSchoolDetails()">
        <i id="toggle-school-details-icon" class="fa fa-fw"></i>
      </button>
      <div class="col-sm-12 col-md-6 col-lg-4">
        <div class="row">
          <div class="col-md-12">
            <form style="position: absolute; z-index: 3000;
              left:25px; top: 120px; width: 220px; background: rgba(0,0,0,0.7);
              color: #dddddd; padding: 10px; border-radius: .25rem;">
              <!-- Base Layers -->
              <div class="form-group">
                <label class="form-control-label col-sm-8 col-lg-8">
                  Base Layers
                </label>
                <div class="custom-radio col-sm-10 col-lg-10"  style="font-size: 13px;"
                     [class.col-sm-offset-4]="i !== 0"
                     [class.col-lg-offset-4]="i !== 0"
                     *ngFor="let layer of model.baseLayers; let i = index">
                  <label class="form-check-label">
                    <input type="radio" class="form-check-input"
                           [name]="layer.id"
                           [(ngModel)]="model.baseLayer"
                           [value]="layer.id">
                    {{layer.name}}
                  </label>
                </div>
              </div>
              <!-- Overlay Layers -->
              <div *ngIf="null != model.overlayLayers && model.overlayLayers.length > 0" class="form-group">
                <label class="form-control-label col-sm-8 col-lg-8">
                  Control Layers
                </label>
                <div class="form-check col-sm-10 col-lg-10"  style="font-size: 13px;">
                  <label class="form-check-label">
                    <input type="checkbox" class="form-check-input"
                           [name]="model.overlayLayers[0].id"
                           [(ngModel)]="model.overlayLayers[0].enabled" >
                    {{model.overlayLayers[0].name}}
                  </label>
                  <label class="form-check-label">
                    <input type="checkbox" class="form-check-input"
                           [name]="model.overlayLayers[1].id"
                           [(ngModel)]="model.overlayLayers[1].enabled" >
                    {{model.overlayLayers[1].name}}
                  </label>
                </div>
              </div>
              <button type="button" (click)="onApply()" class="btn btn-primary">
                <i  class="fa fa-fw fa-check"></i> Aplicar
              </button>
            </form>
          </div>
        </div>
      </div>


      <div id="mymap" leaflet style="height: 100%;"
           [leafletOptions]="options"
           [leafletZoom] = "zoom"
           [leafletCenter] = "center"
           [leafletLayers] = "layers"

           [leafletMarkerCluster] = "markerClusterData"
           [leafletMarkerClusterOptions] = "markerClusterOptions"
           (leafletMarkerClusterReady) = "markerClusterReady($event)"
           (leafletMapReady) = "mapReady($event)">
      </div>
    </div>
  </div>
  <div class="separator"></div>
  <!-- Performance of the schools by education levels -->
  <div class="row"> <!-- *ngIf="schoolSelectedFlag" -->
    <div class="col-md-12">
      <div class="card card-default">
        <div class="card-header">
          <i class="fa fa-line-chart fa-fw"></i> Desempenho das escolas por n√≠veis de ensino
        </div>
        <!-- /.graphics-header -->
        <app-graphics></app-graphics>
        <!-- /.graphics-body -->
      </div>
      <!-- /.card -->
    </div>
  </div>
</div>


